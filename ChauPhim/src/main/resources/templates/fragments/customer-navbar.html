<nav th:fragment="customerNavbar" xmlns:th="http://www.thymeleaf.org" class="navbar navbar-expand-lg navbar-light bg-light fixed-top shadow-sm">
    <div class="container-fluid">
        <a class="navbar-brand" th:href="@{/customer/dashboard}"> <i class="fas fa-film"></i> ChauPhim
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#customerNavbarContent"
                aria-controls="customerNavbarContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="customerNavbarContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link" th:href="@{/customer/dashboard}">Trang ch·ªß</a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownGenre" role="button"
                       data-bs-toggle="dropdown" aria-expanded="false">
                        Th·ªÉ lo·∫°i
                    </a>
                    <ul class="dropdown-menu" aria-labelledby="navbarDropdownGenre">
                        <li><a class="dropdown-item" th:href="@{/(genre='action')}">H√†nh ƒë·ªông</a></li>
                        <li><a class="dropdown-item" th:href="@{/(genre='comedy')}">H√†i</a></li>
                        <li><a class="dropdown-item" th:href="@{/(genre='drama')}">T√¨nh c·∫£m</a></li>
                        <li><a class="dropdown-item" th:href="@{/(genre='horror')}">Kinh d·ªã</a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" th:href="@{/}">T·∫•t c·∫£ th·ªÉ lo·∫°i</a></li>
                        </ul>
                </li>
                <li class="nav-item">
                    <a class="nav-link" th:href="@{/customer/membership/register}">H·ªôi vi√™n</a> 
                </li>
            </ul>
            <ul class="navbar-nav ms-auto mb-2 mb-lg-0 align-items-center">
                <!--
                <li class="nav-item me-2">
                    <form class="d-flex" th:action="@{#}" method="get"> <input class="form-control me-2" type="search" placeholder="T√¨m phim..." aria-label="Search" name="keyword">
                        <button class="btn btn-outline-success" type="submit"><i class="fas fa-search"></i></button>
                    </form>
                </li>
                -->
                <li class="nav-item">
                    <a class="nav-link" th:href="@{/customer/cart}"> <i class="fas fa-shopping-cart"></i> Gi·ªè h√†ng
                        <span class="badge rounded-pill bg-danger" th:text="${cartItemCount != null ? cartItemCount : 0}">0</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a class="nav-link">
                        <i class="fas fa-money-bill-wave"></i> S·ªë d∆∞:
                        <span class="badge rounded-pill bg-success"
                            th:text="${customer != null ? #numbers.formatDecimal(customer.balance, 1, 'COMMA', 2, 'POINT') + '$' : '0.00$'}"
                        >0.00$</span>
                    </a>
                </li>

                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="navbarDropdownUser" role="button"
                       data-bs-toggle="dropdown" aria-expanded="false">
                        <i class="fas fa-user"></i>
                        <span th:if="${customer != null}">
                            <th:block th:if="${customer.rank == 0}">
                                <span th:text="'Xin ch√†o, ' + ${customer.username}"></span> !
                            </th:block>
                            <th:block th:if="${customer.rank == 1}">
                                <span th:text="'Xin ch√†o, ' + ${customer.username}"></span> üèÖ!
                            </th:block>
                            <th:block th:if="${customer.rank == 2}">
                                <span th:text="'Xin ch√†o, ' + ${customer.username}"></span> üíé!
                            </th:block>
                        </span>
                    </a>
                    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="navbarDropdownUser">
                        <li><a class="dropdown-item" th:href="@{/customer/profile}">Th√¥ng tin t√†i kho·∫£n</a></li> 
                        <li><a class="dropdown-item" th:href="@{#}">L·ªãch s·ª≠ mua h√†ng</a></li> 
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item" th:href="@{/customer/logout}">ƒêƒÉng xu·∫•t</a></li>
                    </ul>
                </li>

                <!--
                <th:block th:unless="${#authorization.expression('isAuthenticated()')}">
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/login-customer}">ƒêƒÉng nh·∫≠p</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" th:href="@{/sign-in-customer}">ƒêƒÉng k√Ω</a>
                    </li>
                </th:block>
                -->
            </ul>
        </div>
    </div>
</nav>