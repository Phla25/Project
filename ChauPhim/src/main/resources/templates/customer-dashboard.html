<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layouts/customer-layout :: html (
          customPageTitle='Dashboard - ChauPhim',
          pageTitle=~{::viewTitle},
          pageHead=~{::viewHead},
          pageContent=~{::viewContent},
          pageScripts=~{::viewScripts}
      )}">

<head>

    <th:block th:fragment="viewHead">
        <link rel="stylesheet" th:href="@{/css/customer-specific.css}">
        </th:block>
</head>

<body> 
    <div th:fragment="viewContent">
        <div class="container mt-4 mb-5">
        <!-- SLIDE -->
        <div id="hotMoviesCarousel" class="carousel slide mb-4" data-bs-ride="carousel">
            <div class="carousel-indicators">
                <button type="button" data-bs-target="#hotMoviesCarousel" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                <button type="button" data-bs-target="#hotMoviesCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
                <button type="button" data-bs-target="#hotMoviesCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
            </div>
            <div class="carousel-inner" style="max-height: 400px;">
                <div class="carousel-item active">
                    <img src="https://via.placeholder.com/1200x400/FFA500/FFFFFF?text=Phim+Hot+1" class="d-block w-100" alt="Phim Hot 1">
                     <div class="carousel-caption d-none d-md-block">
                        <h5>Phim Bom Tấn Mùa Hè</h5>
                        <p>Đừng bỏ lỡ bộ phim hành động đỉnh cao.</p>
                    </div>
                </div>
                <div class="carousel-item">
                    <img src="https://via.placeholder.com/1200x400/4682B4/FFFFFF?text=Phim+Hot+2" class="d-block w-100" alt="Phim Hot 2">
                     <div class="carousel-caption d-none d-md-block">
                        <h5>Tình Yêu Lãng Mạn</h5>
                        <p>Câu chuyện tình yêu cảm động nhất năm.</p>
                    </div>
                </div>
                <div class="carousel-item">
                    <img src="https://via.placeholder.com/1200x400/2E8B57/FFFFFF?text=Phim+KM+1" class="d-block w-100" alt="Phim Khuyến Mãi 1">
                     <div class="carousel-caption d-none d-md-block bg-dark bg-opacity-50 rounded p-2">
                        <h5>Khuyến Mãi Sốc - Giảm 50%</h5>
                        <p>Áp dụng cho phim Kinh Dị C đến hết tháng!</p>
                        <a href="customer_khuyen_mai.html" class="btn btn-sm btn-warning">Xem chi tiết</a>
                    </div>
                </div>
            </div>
            <button class="carousel-control-prev" type="button" data-bs-target="#hotMoviesCarousel" data-bs-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#hotMoviesCarousel" data-bs-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="visually-hidden">Next</span>
            </button>
        </div>
        <!-- SORT and FILTER -->
        <div class="row g-3 mb-4 align-items-center bg-light p-3 rounded">
             <div class="col-md-3">
                <select class="form-select" id="genreFilter">
                    <option selected>Lọc theo thể loại...</option>
                    <option value="action">Hành động</option>
                    <option value="comedy">Hài</option>
                    <option value="drama">Tình cảm</option>
                    <option value="horror">Kinh dị</option>
                     </select>
            </div>
            <div class="col-md-3">
                <select class="form-select" id="yearFilter">
                    <option selected>Lọc theo năm...</option>
                    <option value="2025">2025</option>
                    <option value="2024">2024</option>
                    <option value="2023">2023</option>
                     </select>
            </div>
             <div class="col-md-3">
                <select class="form-select" id="studioFilter">
                    <option selected>Lọc theo studio...</option>
                    <option value="studioA">Studio A</option>
                    <option value="studioB">Studio B</option>
                     </select>
            </div>
            <div class="col-md-3">
                <select class="form-select" id="sortOptions">
                    <option selected>Sắp xếp theo...</option>
                     <option value="newest">Mới nhất</option>
                    <option value="price_asc">Giá tăng dần</option>
                    <option value="price_desc">Giá giảm dần</option>
                    </select>
            </div>
        </div>
        <!-- MOVIE LIST -->
        <h2 class="mb-3">Danh sách phim</h2>
        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-4">
            <div class="col">
                <div class="card h-100 shadow-sm">
                    <img src="https://via.placeholder.com/300x400/DC143C/FFFFFF?text=Phim+Hanh+Dong+A" class="card-img-top movie-card-img" alt="Phim Hành Động A">
                     <span class="badge bg-danger position-absolute top-0 end-0 m-2">KM 20%</span> <div class="card-body d-flex flex-column">
                        <h5 class="card-title">Phim Hành Động A</h5>
                        <p class="card-text mb-1"><small class="text-muted">Thể loại: Hành động, Phiêu lưu</small></p>
                         <p class="card-text fw-bold text-danger fs-5 mb-2">
                            <span class="text-decoration-line-through text-muted me-1">150,000đ</span> 120,000 VNĐ </p>
                        <div class="mt-auto d-flex justify-content-between">
                             <button class="btn btn-sm btn-outline-primary" data-bs-toggle="modal" data-bs-target="#movieDetailModal1">
                                 <i class="fas fa-info-circle"></i> Chi tiết
                             </button>
                             <button class="btn btn-sm btn-success">
                                 <i class="fas fa-cart-plus"></i> Thêm vào giỏ
                             </button>
                         </div>
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="card h-100 shadow-sm">
                     <img src="https://via.placeholder.com/300x400/FFD700/000000?text=Phim+Hai+B" class="card-img-top movie-card-img" alt="Phim Hài B">
                     <div class="card-body d-flex flex-column">
                        <h5 class="card-title">Phim Hài B</h5>
                         <p class="card-text mb-1"><small class="text-muted">Thể loại: Hài</small></p>
                        <p class="card-text fw-bold text-primary fs-5 mb-2">120,000 VNĐ</p>
                         <div class="mt-auto d-flex justify-content-between">
                             <button class="btn btn-sm btn-outline-primary" data-bs-toggle="modal" data-bs-target="#movieDetailModal2">
                                 <i class="fas fa-info-circle"></i> Chi tiết
                             </button>
                              <button class="btn btn-sm btn-success">
                                 <i class="fas fa-cart-plus"></i> Thêm vào giỏ
                             </button>
                         </div>
                    </div>
                </div>
            </div>
             <div class="col">
                <div class="card h-100 shadow-sm">
                     <img src="https://via.placeholder.com/300x400/6A5ACD/FFFFFF?text=Phim+Tinh+Cam+C" class="card-img-top movie-card-img" alt="Phim Tình Cảm C">
                    <div class="card-body d-flex flex-column">
                        <h5 class="card-title">Phim Tình Cảm C</h5>
                        <p class="card-text mb-1"><small class="text-muted">Thể loại: Tình cảm</small></p>
                        <p class="card-text fw-bold text-primary fs-5 mb-2">100,000 VNĐ</p>
                         <div class="mt-auto d-flex justify-content-between">
                             <button class="btn btn-sm btn-outline-primary" data-bs-toggle="modal" data-bs-target="#movieDetailModal3">
                                 <i class="fas fa-info-circle"></i> Chi tiết
                             </button>
                              <button class="btn btn-sm btn-success">
                                 <i class="fas fa-cart-plus"></i> Thêm vào giỏ
                             </button>
                         </div>
                    </div>
                </div>
            </div>
        </div>
        
        <nav aria-label="Page navigation" class="mt-4">
             <ul class="pagination justify-content-center">
                <li class="page-item disabled"><a class="page-link" href="#">Trước</a></li>
                <li class="page-item active"><a class="page-link" href="#">1</a></li>
                <li class="page-item"><a class="page-link" href="#">2</a></li>
                <li class="page-item"><a class="page-link" href="#">3</a></li>
                <li class="page-item"><a class="page-link" href="#">Sau</a></li>
            </ul>
        </nav>
        
        <div class="modal fade" id="movieDetailModal1" tabindex="-1" aria-labelledby="movieDetailModalLabel1" aria-hidden="true">
            <div class="modal-dialog modal-lg modal-dialog-centered">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="movieDetailModalLabel1">Chi tiết: Phim Hành Động A</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body">
                        <div class="row">
                            <div class="col-md-4">
                                 <img src="https://via.placeholder.com/300x400/DC143C/FFFFFF?text=Phim+Hanh+Dong+A" class="img-fluid rounded detail-modal-img" alt="Phim Hành Động A">
                            </div>
                            <div class="col-md-8">
                                 <h3>Phim Hành Động A</h3>
                                 <p class="mb-1"><strong>Diễn viên:</strong> Diễn viên X, Diễn viên Y, Diễn viên Z</p>
                                 <p class="mb-1"><strong>Đạo diễn:</strong> Nguyễn Văn A</p>
                                 <p class="mb-1"><strong>Ngày phát hành:</strong> 2024-10-20</p>
                                 <p class="mb-1"><strong>Studio:</strong> Studio A</p>
                                 <p class="mb-1"><strong>Thể loại:</strong> <span class="badge bg-secondary">Hành động</span> <span class="badge bg-secondary">Phiêu lưu</span></p>
                                 <p class="fw-bold text-danger fs-4 mt-2 mb-3">
                                     <span class="text-decoration-line-through text-muted me-1 fs-5">150,000đ</span> 120,000 VNĐ
                                     <span class="badge bg-danger ms-2">KM 20%</span>
                                 </p>
                                 <p><strong>Mô tả:</strong> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam...</p>
                                 <button class="btn btn-success mt-2"><i class="fas fa-cart-plus"></i> Thêm vào giỏ</button>
                            </div>
                        </div>
                    </div>
                     <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Đóng</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    </div>

<th:block th:fragment="viewScripts">
    <script>
        console.log("JavaScript của trang test đã được tải!");
        // Logic JS tùy chỉnh cho trang này (nếu có)
        // Không cần include lại Bootstrap JS ở đây.
    </script>
</th:block>

</body>
</html>